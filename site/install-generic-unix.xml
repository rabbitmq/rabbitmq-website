<?xml-stylesheet type="text/xml" href="page.xsl"?>
<!DOCTYPE html [
<!ENTITY % entities SYSTEM "rabbit.ent" >
%entities;
]>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:doc="http://www.rabbitmq.com/namespaces/ad-hoc/doc"
      xmlns:r="http://www.rabbitmq.com/namespaces/ad-hoc/conformance"
      xmlns:x="http://www.rabbitmq.com/2011/extensions"
      xmlns:xi="http://www.w3.org/2003/XInclude">
  <head>
    <title>Installing on Generic Unix</title>
  </head>
  <body>
    <doc:section name="generic-unix">
      <h3>Download the Server</h3>
      <r:downloads signature="yes">
        <r:download downloadfile="rabbitmq-server-generic-unix-&version-server;.tar.gz"
		    downloadpath="&dir-server;">
	  Packaged for generic Unix systems (tar.gz)
        </r:download>
      </r:downloads>

      <doc:heading>Generic Unix or Linux (BSD, Mac OS X)</doc:heading>

      <doc:subsection name="install-generic-unix">
        <doc:heading>Install the Server</doc:heading>
        <p>
          Install a recent version of Erlang.
        </p>
        <p>
          Download
          <code>rabbitmq-server-generic-unix-&version-server;.tar.gz</code>
          from the <a href="download.html">download page</a>.
        </p>
        <p>
          Contained in the tarball is a directory named
          <code>rabbitmq_server-&version-server;</code>. You should
          extract this into somewhere appropriate for application
          binaries on your system.  The <code>sbin</code> directory
          will be found in this directory.
        </p>
      </doc:subsection>

      <doc:subsection name="running-generic-unix">
        <doc:heading>Run RabbitMQ Server</doc:heading>
        <p>
          The Generic Unix tarball is designed as far as possible to run without
          requiring configuration changes or special permissions. The
          directories and files used by default are all held under the
          installation directory <code>rabbitmq_server-&version-server;</code>
          which is in the <span class="envvar">$RABBITMQ_HOME</span> variable in
          the scripts.
        </p>
        <p>
          In this way, a general user may install and run RabbitMQ Server simply
          by unpacking a tar file.
        </p>
        <dl class="instructions">
          <dt>Start the Server</dt>
          <dd>
            <p>
              Invoke the <code>sbin/rabbitmq-server</code> shell script.
              This displays a banner message, and reports on progress in
              the startup sequence, concluding with the message "broker
              running", indicating that the RabbitMQ broker has been
              started successfully.
            </p>
            <p>
              You can also start the server in "detached" mode with
              <code>rabbitmq-server -detached</code>, in which case the
              server process runs in the background.
            </p>
          </dd>
          <dt>Configure the Server</dt>
          <dd>
            The configuration file <code><span
            class="envvar">$RABBITMQ_HOME</span>/etc/rabbitmq/rabbitmq-env.conf</code>
            is used to override environment variables. You can <a
            href="configure.html#customise-general-unix-environment">customise
            the RabbitMQ environment</a> by altering this file. Components may
            be <a href="configure.html#configuration-file">configured</a>, too,
            in the <code>rabbitmq.config</code> file.
          </dd>
        </dl>
      </doc:subsection>

      <doc:subsection name="general-generic-unix">
        <doc:heading>Configure Generic Unix RabbitMQ Server For General Use</doc:heading>
          <p>
            Should you wish to install RabbitMQ Server for general use on your
            system it is recommended you install one of the packages designed
            for your platform. However, it is possible to alter the Generic Unix
            installation so that it uses the more conventional system
            directories as the defaults for its configuration, database, log
            files, plugins etc.
          </p>
          <p>
            This is controlled by the line
<pre class="sourcecode">
SYS_PREFIX=${RABBITMQ_HOME}
</pre>
            in the <code>sbin/rabbitmq-defaults</code> script.
          </p>
          <p>
            To set the RabbitMQ default locations to be identical to the general
            unix defaults, change this line to
<pre class="sourcecode">
SYS_PREFIX=
</pre>
            but do not modify any other line in this script.
          </p>
          <p>
            <em>Note: </em>After this modification the default directory
            locations may require different permissions. In particular
            <strong>RABBITMQ_MNESIA_BASE</strong> and
            <strong>RABBITMQ_LOG_BASE</strong> may need to be created (the
            server will attempt to create them at startup), and the
            <strong>RABBITMQ_ENABLED_PLUGINS_FILE</strong> will need to be
            writable (for <code>rabbitmq-plugins</code>).
            The configuration file <code>rabbitmq-env.conf</code> will be
            looked for in <code>/etc/rabbitmq/</code>.
          </p>
      </doc:subsection>

    </doc:section>
    <xi:include href="install-unix-manage.xml.inc"/>
  </body>
</html>
