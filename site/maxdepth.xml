<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xml" href="page.xsl"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:doc="http://www.rabbitmq.com/namespaces/ad-hoc/doc"
      xmlns:x="http://www.rabbitmq.com/2011/extensions">
  <head>
    <title>Queue Depth Limit</title>
  </head>
  <body>
    <p>
      The maximum depth of a queue can be limited to a set number
      of messages by setting the <code>x-maxdepth</code> argument.
      Queue depth is calculated by adding the length to the number
      of unacknowledged messages. Messages will be dropped or
      dead-lettered from the head of the queue once the limit is
      reached.
    </p>
    <p>
      This example in Java declares a queue with a maximum depth
      of 10 messages:
    </p>
    <pre class="sourcecode">
Map&lt;String, Object> args = new HashMap&lt;String, Object>();
args.put("x-maxdepth", 10);
channel.queueDeclare("myqueue", false, false, false, args);</pre>
  </body>
</html>
